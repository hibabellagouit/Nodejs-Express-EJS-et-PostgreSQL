<%- include('../../partials/header') %>
<%- include('../../partials/navigation') %>
<main class="container">
    <h1>Ajouter un auteur</h1>

    <% if (typeof error !== 'undefined') { %>
        <div class="alert alert-error">
            <strong>Erreur :</strong> <%= error.message || error %>
        </div>
    <% } %>

    <div class="card">
        <form method="POST" action="/auteurs/ajouter">
            <div class="form-group">
                <label for="nom">Nom *</label>
                <input type="text" id="nom" name="nom" required value="<%= typeof auteur !== 'undefined' ? auteur.nom : '' %>">
            </div>

            <div class="form-group">
                <label for="prenom">Prénom *</label>
                <input type="text" id="prenom" name="prenom" required value="<%= typeof auteur !== 'undefined' ? auteur.prenom : '' %>">
            </div>

            <div class="form-group">
                <label for="date_naissance">Date de naissance</label>
                <input type="date" id="date_naissance" name="date_naissance" value="<%= typeof auteur !== 'undefined' && auteur.date_naissance ? new Date(auteur.date_naissance).toISOString().split('T')[0] : '' %>">
            </div>

            <div class="form-group">
                <label for="nationalite">Nationalité</label>
                <input type="text" id="nationalite" name="nationalite" value="<%= typeof auteur !== 'undefined' ? auteur.nationalite : '' %>">
            </div>

            <div class="form-group">
                <label for="biographie">Biographie</label>
                <textarea id="biographie" name="biographie" rows="5"><%= typeof auteur !== 'undefined' ? auteur.biographie : '' %></textarea>
            </div>

            <div style="margin-top: 20px;">
                <button type="submit" class="btn btn-success">Ajouter</button>
                <a href="/auteurs" class="btn" style="margin-left: 10px;">Annuler</a>
            </div>
        </form>
    </div>
</main>
<%- include('../../partials/footer') %>